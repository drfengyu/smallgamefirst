<!DOCTYPE html>
<html>
  <head>
    <title>贪吃蛇游戏</title>
    <style>
      #game-board {
        width: 400px;
        height: 400px;
        border: 1px solid black;
        position: relative;
      }
      
      .snake {
        width: 20px;
        height: 20px;
        background-color: green;
        position: absolute;
      }
      
      .food {
        width: 20px;
        height: 20px;
        background-color: red;
        position: absolute;
      }
    </style>
  </head>
  <body>
    <h1>贪吃蛇游戏</h1>
    <div id="game-board"></div>
    
    <script>
      var gameBoard = document.getElementById("game-board");
      var snake = [{x: 200, y: 200}];
      var food = {x: 0, y: 0};
      var direction = "right";
      
      function updateGameBoard() {
        gameBoard.innerHTML = "";
        
        // 绘制蛇
        snake.forEach(function(segment) {
          var snakeSegment = document.createElement("div");
          snakeSegment.className = "snake";
          snakeSegment.style.left = segment.x + "px";
          snakeSegment.style.top = segment.y + "px";
          gameBoard.appendChild(snakeSegment);
        });
        
        // 绘制食物
        var foodElement = document.createElement("div");
        foodElement.className = "food";
        foodElement.style.left = food.x + "px";
        foodElement.style.top = food.y + "px";
        gameBoard.appendChild(foodElement);
      }
      
      function moveSnake() {
        var head = {x: snake[0].x, y: snake[0].y};
        
        // 根据方向移动蛇头
        if (direction === "up") {
          head.y -= 20;
        } else if (direction === "down") {
          head.y += 20;
        } else if (direction === "left") {
          head.x -= 20;
        } else if (direction === "right") {
          head.x += 20;
        }
        
        // 将新的蛇头插入到蛇数组的开头
        snake.unshift(head);
        
        // 判断是否吃到食物
        if (head.x === food.x && head.y === food.y) {
          generateFood();
        } else {
          // 如果没有吃到食物，则移除蛇尾
          snake.pop();
        }
        
        updateGameBoard();
      }
      
      function generateFood() {
        var maxX = gameBoard.offsetWidth / 20;
        var maxY = gameBoard.offsetHeight / 20;
        
        food.x = Math.floor(Math.random() * maxX) * 20;
        food.y = Math.floor(Math.random() * maxY) * 20;
      }
      
      function changeDirection(event) {
        if (event.keyCode === 37 && direction !== "right") {
          direction = "left";
        } else if (event.keyCode === 38 && direction !== "down") {
          direction = "up";
        } else if (event.keyCode === 39 && direction !== "left") {
          direction = "right";
        } else if (event.keyCode === 40 && direction !== "up") {
          direction = "down";
        }
      }
      
      // 初始化游戏
      generateFood();
      updateGameBoard();
      
      // 监听键盘事件
      document.addEventListener("keydown", changeDirection);
      
      // 每500毫秒移动一次蛇
      setInterval(moveSnake, 500);
    </script>
  </body>
</html>
